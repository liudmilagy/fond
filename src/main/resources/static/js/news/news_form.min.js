import{getImageClassByExtension,getFileIcon,main_body_width}from"../general.min.js";export function newsDocs(e,t){return{view:"dataview",label:"Прикрепленные файлы",labelPosition:"top",id:e+"_docs_grid",css:"contacts",borderless:!0,align:"center",scroll:!1,select:1,minWidth:320,minHeight:200,template:function(e){let t="../../"+getFileIcon(e.fileExtension),i=e.timeCreate.substr(0,10),o="<div class='overall'><div><img style='position: absolute' src = "+t+"> <div class='doc_title'>"+e.originalFileName.slice(0,-4)+"</div>";return o+="<div class='doc_time_create'>"+i+"</div><div class='download_docs'><a style='text-decoration: none; color: #1ca1c1' href="+e.attachmentPath+" download>Скачать файл</a></div></div></div>"},url:t,xCount:2,type:{height:96,width:"auto",float:"right"},scheme:{},on:{onBeforeLoad:()=>{document.body.clientWidth<main_body_width&&($$(e+"_docs_grid").config.xCount=1)},onAfterLoad:()=>{var t=$$(e+"_docs_grid").count();if(0===t)$$(e+"_docs_grid").hide();else{var i=$$(e+"_docs_grid").config.xCount,o=100*(t%i==0?t/i:1+t/i);$$(e+"_docs_grid").$height<o&&($$(e+"_docs_grid").config.height=o,$$(e+"_docs_grid").resize())}}}}}function bigNewsForm(e,t){return{id:"newsFormId",borderless:!0,rows:[{view:"template",id:"newsHeaderId",template:"#heading#",css:"product_label_main_title",borderless:!0,align:"center",autoheight:!0},{cols:[{id:"imgCoverId",view:"template",borderless:!0,template:'<img width="300" src= #attachmentPath# style="background-repeat: no-repeat; background-position: center; background-size: cover"/>',width:300,height:225},{rows:[{view:"template",id:"htmlText",scroll:!1,borderless:!0,autoheight:!0},newsDocs(e,t),{}]}]}]}}function smallNewsForm(e,t){return{id:"newsFormId",borderless:!0,rows:[{view:"template",template:"#heading#",id:"newsHeaderId",css:"product_label_main_title",borderless:!0,align:"center",autoheight:!0},{id:"imgCoverId",view:"template",borderless:!0,template:'<img width="300" src= #attachmentPath# style="background-repeat: no-repeat; background-position: center; background-size: cover"/>',width:300,height:225},{view:"template",id:"htmlText",scroll:!1,borderless:!0,autoheight:!0},newsDocs(e,t)]}}export function newsForm(e,t,i){return i?bigNewsForm(e,t):smallNewsForm(e,t)}