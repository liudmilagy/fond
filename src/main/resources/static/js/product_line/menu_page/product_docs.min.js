import{getImageClassByExtension,getFileIcon}from"../../general.min.js";import{main_body_width}from"../../general.min.js";export function productDocs(e,i){return{view:"scrollview",id:"productDocsTab",scroll:!1,borderless:!0,body:{rows:[{view:"dataview",label:"Прикрепленные файлы",labelPosition:"top",id:e+"_docs_grid",css:"contacts",borderless:!0,align:"center",scroll:"false",minWidth:320,minHeight:200,select:1,template:function(e){let i="../../"+getFileIcon(e.fileExtension),o=e.timeCreate.substr(0,10),t="<div class='overall'><div><img style='position: absolute' src = "+i+"> <div class='doc_title'>"+e.originalFileName.slice(0,-4)+"</div>";return t+="<div class='doc_time_create'>"+o+"</div><div class='download_docs'><a style='text-decoration: none; color: #1ca1c1' href="+e.attachmentPath+" download>Скачать файл</a></div></div></div>"},url:i,xCount:2,type:{height:"auto",width:"auto",float:"right"},scheme:{},on:{onBeforeLoad:()=>{document.body.clientWidth<main_body_width&&($$(e+"_docs_grid").config.xCount=1)},onAfterLoad:()=>{var i=$$(e+"_docs_grid").count();if(0===i)$$(e+"_docs_grid").hide();else{var o=$$(e+"_docs_grid").config.xCount,t=100*(i%o==0?i/o:1+i/o);$$(e+"_docs_grid").$height<t&&($$(e+"_docs_grid").config.height=t,$$(e+"_docs_grid").resize())}}}},{height:100}]}}}